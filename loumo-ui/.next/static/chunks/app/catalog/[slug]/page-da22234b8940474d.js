(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{3343:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),s=r(2115);let o=e=>{let{status:t}=e,[r,o]=(0,s.useState)("");return(0,s.useEffect)(()=>{switch(t){case"loading":o("Loading...");break;case"failed":o("We could not get the data you are looking for");break;default:o("An unexpected error occured")}},[]),(0,a.jsxs)("div",{className:"h-screen w-full flex items-center justify-center flex-col gap-4 font-bold rounded-lg px-12 p-4 border-gray-500",children:[(0,a.jsx)("video",{src:"/loading.webm",className:"aspect-video object-contain w-full max-w[250px] h-[150px]",loop:!0,autoPlay:!0,muted:!0,playsInline:!0,children:(0,a.jsx)("source",{src:"/loading.webm",type:"video/webm"})}),(0,a.jsx)("p",{children:r})]})}},3861:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(3464),s=r(5799);let o=a.A.create({baseURL:"http://localhost:5000/api/",timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>(s.oR.error("Request setup error."),Promise.reject(e))),o.interceptors.response.use(e=>{var t;let{method:r,url:a}=e.config,o=null==(t=e.data)?void 0:t.message;if(["POST","PUT","PATCH","DELETE"].includes((null==r?void 0:r.toUpperCase())||"")&&a){let e=a.match(/\/api\/([^\/\?]+)/),t=(null==e?void 0:e[1])||"Entity";t=t.charAt(0).toUpperCase()+t.slice(1).replace(/s$/,"");let c={POST:"created",PUT:"updated",PATCH:"updated",DELETE:"deleted"}[(null==r?void 0:r.toUpperCase())||""]||"processed",n=o||"".concat(t," ").concat(c," successfully.");s.oR.success(n)}return e},e=>{var t;let r=e.response,a=(null==r||null==(t=r.data)?void 0:t.message)||"An unexpected error occurred.";if(r)switch(r.status){case 400:s.oR.warning(a);break;case 401:s.oR.error(a||"Unauthorized. Please log in again.");break;case 403:s.oR.error(a||"Access denied.");break;case 404:s.oR.info(a||"Resource not found.");break;case 500:s.oR.error(a||"Internal server error.");break;default:s.oR.error(a)}else e.request?s.oR.error("No response from server. Check your internet connection."):s.oR.error("Error: ".concat(e.message));return Promise.reject(e)});let c=o},5691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),s=r(3343),o=r(9666),c=r(2960);r(2115);var n=r(9994);let l=async e=>{let{params:t}=e,{slug:r}=await t,l=new o.A,i=(0,c.I)({queryKey:["productData"],queryFn:()=>l.getOne(Number(r))});return i.isLoading?(0,a.jsx)(s.A,{status:"loading"}):i.isError?(0,a.jsx)(s.A,{status:"failed"}):i.isSuccess?(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto mt-10",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Product Data"}),(0,a.jsx)(n.Ay,{src:i.data})]})}):(0,a.jsx)(s.A,{})}},6796:(e,t,r)=>{Promise.resolve().then(r.bind(r,5691))},9666:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(3861),s=r(5799);class o{constructor(){this.route="/products",this.create=async e=>a.A.post("".concat(this.route),e).then(e=>(s.oR.success("Welcome back ".concat(e.data.product.name)),e.data)),this.getAll=async()=>a.A.get("".concat(this.route)).then(e=>e.data),this.getOne=async e=>a.A.get("".concat(this.route,"/").concat(e)).then(e=>e.data),this.update=async(e,t)=>a.A.put("".concat(this.route,"/").concat(e),t).then(e=>e.data),this.delete=async e=>a.A.delete("".concat(this.route,"/").concat(e)).then(e=>e.data)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[113,464,994,960,441,684,358],()=>t(6796)),_N_E=e.O()}]);